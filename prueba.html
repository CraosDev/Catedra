<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Parallax con Video - Bootstrap</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      .parallax-section {
        position: relative;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      }

      .video-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease;
      }

      .video-background.active {
        opacity: 1;
        pointer-events: auto;
      }

      .parallax-overlay {
        position: relative;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 2rem;
        border-radius: 1rem;
        text-align: center;
        color: white;
        text-shadow: 0 0 5px rgba(0, 0, 0, 0.7);
        z-index: 1;
      }
    </style>
  </head>
  <body class="bg-light">

    <!-- Videos fijos -->
    <video autoplay muted loop class="video-background" id="video1">
      <source src="video/infantiles.mp4" type="video/mp4">
    </video>
    <video autoplay muted loop class="video-background" id="video2">
      <source src="video/libreria.mp4" type="video/mp4">
    </video>
    <video autoplay muted loop class="video-background" id="video3">
      <source src="video/medicina.mp4" type="video/mp4">
    </video>

    <!-- Sección 1 -->
    <div id="section1" class="parallax-section">
      <div class="parallax-overlay">
        <h1 class="display-4">Sección 1</h1>
        <p class="lead">Video como fondo con efecto parallax</p>
      </div>
    </div>

    <!-- Sección 2 -->
    <div id="section2" class="parallax-section">
      <div class="parallax-overlay">
        <h1 class="display-4">Sección 2</h1>
        <p class="lead">Diferente video para cada sección</p>
      </div>
    </div>

    <!-- Sección 3 -->
    <div id="section3" class="parallax-section">
      <div class="parallax-overlay">
        <h1 class="display-4">Sección 3</h1>
        <p class="lead">Efecto con puro Bootstrap y CSS</p>
      </div>
    </div>

    <script>
      // Detectar qué sección está en pantalla y activar su video
      const videos = {
        section1: document.getElementById('video1'),
        section2: document.getElementById('video2'),
        section3: document.getElementById('video3')
      };

      const options = {
        root: null,
        rootMargin: '0px',
        threshold: 0.6
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            Object.keys(videos).forEach(key => {
              videos[key].classList.remove('active');
            });
            videos[entry.target.id].classList.add('active');
          }
        });
      }, options);

      document.querySelectorAll('.parallax-section').forEach(section => {
        observer.observe(section);
      });
    </script>

  </body>
</html>
